<app-navbar></app-navbar>
<div class="container-fluid">
  <div class="d-flex row text-center align-items-center justify-content-center" *ngIf="currentUser">
    <div class="d-flex flex-column flex-sm-fill align-items-center">
      <h2 class="display-2 font-italic mt-5 mb-5">Welcome back!</h2>
      <img *ngIf="currentUser.img; else anotherImage" class="shadow-sm rounded-pill mb-2" [src]="'data:image/jpeg;base64,'+currentUser.img.pic" width="300" height="300">
      <ng-template #anotherImage>
        <img class="rounded-circle mb-2" src="../../../assets/images/no-profile-picture.jpg" width="300">
      </ng-template>
      <ul class="list-group list-group-flush">
        <li class="list-group-item"><b>First Name</b>: {{currentUser.firstName}}</li>
        <li class="list-group-item"><b>Last Name</b>: {{currentUser.lastName}}</li>
        <li class="list-group-item"><b>Email</b>: {{currentUser.email}}</li>
        <li class="list-group-item" [ngStyle]="{'color':currentUser.penalties.length < 2 ? 'green':'red'}">
          <b>Penalties</b>: {{currentUser.penalties.length}}
        </li>
      </ul>
      <div class="d-flex flex-row">
        <button [innerHTML]="showBorrowed?'Hide borrowed list':'Show borrowed list'" class="btn btn-primary btn-sm mt-2 mr-2" (click)="showBorrowedBooks()"></button>
        <button class="btn btn-danger btn-sm mt-2" (click)="editAccount()">Edit account</button>
      </div>
    </div>
    <div class="d-flex flex-sm-column  flex-sm-fill" *ngIf="showBorrowed" >
      <app-borrow-list  [currentUser]="currentUser"></app-borrow-list>
    </div>
  </div>
</div>




